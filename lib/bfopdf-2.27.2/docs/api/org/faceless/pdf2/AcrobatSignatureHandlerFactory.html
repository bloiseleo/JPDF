<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>AcrobatSignatureHandlerFactory (Big Faceless PDF Library 2.27.2)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AcrobatSignatureHandlerFactory (Big Faceless PDF Library 2.27.2)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AcrobatSignatureHandlerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Big Faceless PDF Library 2.27.2</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.faceless.pdf2</a></div>
<h2 title="Class AcrobatSignatureHandlerFactory" class="title">Class AcrobatSignatureHandlerFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.faceless.pdf2.AcrobatSignatureHandlerFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="SignatureHandlerFactory.html" title="interface in org.faceless.pdf2">SignatureHandlerFactory</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">AcrobatSignatureHandlerFactory</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="SignatureHandlerFactory.html" title="interface in org.faceless.pdf2">SignatureHandlerFactory</a></pre>
<div class="block"><p>
 An implementation of <a href="SignatureHandlerFactory.html" title="interface in org.faceless.pdf2"><code>SignatureHandlerFactory</code></a> that returns handlers
 suitable for signing documents for use with Acrobat 6.0 or later.
 </p><p>
 For basic
 use it's quite acceptable to use the <a href="FormSignature.html#HANDLER_ACROBATSIX"><code>FormSignature.HANDLER_ACROBATSIX</code></a>
 which is an instance of this factory. If advanced options need to be set
 (such as setting a TimeStamp server or changing the hash algorithm) then you
 can create an instance of this factory and set the options on that before
 passing it in to the <a href="FormSignature.html" title="class in org.faceless.pdf2"><code>FormSignature</code></a> constructor.
 </p><p>
 Since 2.15.2 this class's factories can create <code>PAdES</code> signatures.
 This stands for "PDF Advanced Electronic Signatures", and it's defined in both
 <a href="http://www.etsi.org/deliver/etsi_tr/102900_102999/102923/01.01.01_60/tr_102923v010101p.pdf">ETSI TR 102 923</a>
 and in PDF 2.0. It's a particular application of
 <a href="http://www.etsi.org/deliver/etsi_ts/101700_101799/101733/02.02.01_60/ts_101733v020201p.pdf">CAdES</a> signatures, which are
 the modern variation of the standard PKCS#7 signatures used by Acrobat.
 </p>
 <p>
 For our purposes the terms PAdES and CAdES are interchangeable, and when
 verifying a digital signature with the BFO API the two are not distinguished.
 When signing, to create a signature marked as PAdES you can call the
 <a href="#setPAdES(boolean)"><code>setPAdES(boolean)</code></a> method on this factory:
 </p>
 <pre class="brush:java; highlight: 3">
 AcrobatSignatureHandlerFactory factory = new AcrobatSignatureHandlerFactory();
 factory.setDigestAlgorithm("SHA-256");
 factory.setPAdES(true);
 ...
 </pre>
 <p>
 To ensure a signature meets the requirements for PAdES part 4 (long-term validation),
 the following conditions need to be met:
 <ol>
 <li>An RFC3161 TimeStamp server must be set by caling <a href="#setTimeStampServer(java.net.URL)"><code>setTimeStampServer(java.net.URL)</code></a></li>
 <li>OCSP and CRL revocation checking must be peformed on signing by calling <a href="#setValidateCertificatesOnSigning(boolean)"><code>setValidateCertificatesOnSigning(boolean)</code></a></li>
 <li>The "Signing Certificate" attribute must be set by calling <a href="#setUseSigningCertificateAttribute(boolean)"><code>setUseSigningCertificateAttribute(boolean)</code></a>. This is the default.</li>
 <li>The PAdES identifier should be set by calling <a href="#setPAdES(boolean)"><code>setPAdES(boolean)</code></a>. Slightly ironically, this is recommended but not required</li>
 <li>The entire certificate chain up to and including a trusted root must be available when signing</li>
 </ol>
 <p>
 This last point needs further explaining. For a signature to be considered long-term validated, the entire
 signature chain, <i>up to and including any trusted root certificates</i>, must be embedded in the PDF. This
 includes the the certificates certifying any OCSP or CRL responses obtained as part of the valdation. The
 root certificates may not be included as part of these responses, or it may not be included as an explicit
 part of the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/KeyStore.html?is-external=true#getCertificateChain(java.lang.String)" title="class or interface in java.security" class="externalLink"><code>certificate-chain</code></a> for the PrivateKey entry used when signing. However,
 so long as all the required root certificates can be found somewhere in the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/KeyStore.html?is-external=true" title="class or interface in java.security" class="externalLink"><code>KeyStore</code></a> supplied to the
 <a href="FormSignature.html#sign(java.security.KeyStore,java.lang.String,char%5B%5D,org.faceless.pdf2.SignatureHandlerFactory)"><code>FormSignature.sign()</code></a> method, then they will be embedded in the signed object. If
 they are not available (or if the OCSP or CRL requests fail for any reason), then a "PK3" warning will be
 emitted during signing with details of the break in the
 certificate chain. The signature will still be valid, but will not be considered "long-term" valid.
 </p>
 <p>
 Here's an example showing how to apply a PAdES long-term valid signature to a PDF. The KeyStore supplied is
 assumed to have all the required root-certificates
 </p>
 <pre class="brush:java">
 KeyStore keystore = KeyStore.getInstance("JKS");
 keystore.load(new FileInputStream("keystore.jks"), password);
 PDF pdf = new PDF(new PDFReader(new File("input.pdf")));
 FormSignature sig = new FormSignature();
 AcrobatSignatureHandlerFactory factory = new AcrobatSignatureHandlerFactory();
 factory.setPAdES(true);
 factory.setValidateCertificatesOnSigning(true);
 factory.setTimeStampServer(new URL("http://timestamp.entrust.net/TSS/RFC3161sha1TS"));
 pdf.getForm().getElements().put("sig", sig);
 sig.sign(keystore, "myalias", password, factory);
 pdf.render(new FileOutputStream("output.pdf"));
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.7.1</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="TimeStampHandlerFactory.html" title="class in org.faceless.pdf2"><code>TimeStampHandlerFactory</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">AcrobatSignatureHandlerFactory</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a new SignatureHandlerFactory</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="PKCS7SignatureHandler.SigningEngine.html" title="interface in org.faceless.pdf2">PKCS7SignatureHandler.SigningEngine</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createSigningEngine(java.security.KeyStore,java.lang.String,char%5B%5D,java.lang.String)">createSigningEngine</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/KeyStore.html?is-external=true" title="class or interface in java.security" class="externalLink">KeyStore</a>&nbsp;keystore,
                   <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;alias,
                   char[]&nbsp;password,
                   <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subfilter)</code></th>
<td class="colLast">
<div class="block">Return the actual object that will do the signing.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDigestAlgorithm()">getDigestAlgorithm</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the Digest Algorithm, as set by <a href="#setDigestAlgorithm(java.lang.String)"><code>setDigestAlgorithm(java.lang.String)</code></a></div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="SignatureHandler.html" title="class in org.faceless.pdf2">SignatureHandler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getHandler()">getHandler</a></span>()</code></th>
<td class="colLast">
<div class="block">Return a handler created by this factory</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimeStampServer()">getTimeStampServer</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the first TimeStamp Server, as set by <a href="#setTimeStampServers(java.util.Collection)"><code>setTimeStampServers(java.util.Collection&lt;java.net.URL&gt;)</code></a>,
 or null if none are set.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimeStampServers()">getTimeStampServers</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the TimeStamp Servers, as set by <a href="#setTimeStampServers(java.util.Collection)"><code>setTimeStampServers(java.util.Collection&lt;java.net.URL&gt;)</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setContentSize(int)">setContentSize</a></span>&#8203;(int&nbsp;size)</code></th>
<td class="colLast">
<div class="block">
 This method can be called to fix the space allocated for the "Contents" variable,
 which contains the encoded signature.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCustomAppearance(org.faceless.pdf2.PDFCanvas,float,float,float,float)">setCustomAppearance</a></span>&#8203;(<a href="PDFCanvas.html" title="class in org.faceless.pdf2">PDFCanvas</a>&nbsp;canvas,
                   float&nbsp;x1,
                   float&nbsp;y1,
                   float&nbsp;x2,
                   float&nbsp;y2)</code></th>
<td class="colLast">
<div class="block">
 Set a custom appearance for this signature.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDigestAlgorithm(java.lang.String)">setDigestAlgorithm</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm)</code></th>
<td class="colLast">
<div class="block">
 Set the message digest algorithm to use - one of "MD5", "SHA1", "SHA-256", "SHA-384", "SHA-512" or "RIPEMD160"
 for core PDF up to 2.0, or "SHA3-256", "SHA3-384", "SHA3-512" and "SHAKE256" which are defined in the ISO32001
 <a href="OutputProfile.Extension.html" title="class in org.faceless.pdf2"><code>extension</code></a> to PDF 2.0.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setPAdES(boolean)">setPAdES</a></span>&#8203;(boolean&nbsp;pades)</code></th>
<td class="colLast">
<div class="block">Set whether the factory should use the PAdES signature idenfifier, as
 specified in PDF 2.0 and supported in Acrobat X and later.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setProvider(java.security.Provider)">setProvider</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/Provider.html?is-external=true" title="class or interface in java.security" class="externalLink">Provider</a>&nbsp;provider)</code></th>
<td class="colLast">
<div class="block">Set the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/Provider.html?is-external=true" title="class or interface in java.security" class="externalLink"><code>Provider</code></a> to be used for any signature
 operations created by this factory.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTimeStampServer(java.net.URL)">setTimeStampServer</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a>&nbsp;server)</code></th>
<td class="colLast">
<div class="block">Specify the URL of an RFC3161 Timestamp Server.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTimeStampServers(java.util.Collection)">setTimeStampServers</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a>&gt;&nbsp;servers)</code></th>
<td class="colLast">
<div class="block">Specify the URL of one or more RFC3161 Timestamp Server.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUseSigningCertificateAttribute(boolean)">setUseSigningCertificateAttribute</a></span>&#8203;(boolean&nbsp;use)</code></th>
<td class="colLast">
<div class="block">Specifies whether the PKCS#7 object should be generated with the
 <code>id-aa-signingCertificateV2</code> (1.2.840.113549.1.9.16.2)
 attribute, as defined in RFC5035.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setValidateCertificatesOnSigning(boolean)">setValidateCertificatesOnSigning</a></span>&#8203;(boolean&nbsp;check)</code></th>
<td class="colLast">
<div class="block">
 Specifies whether the certificates used during signing should be verified
 with their OCSP or CRL responders, if available.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AcrobatSignatureHandlerFactory</h4>
<pre>public&nbsp;AcrobatSignatureHandlerFactory()</pre>
<div class="block">Create a new SignatureHandlerFactory</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setDigestAlgorithm(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDigestAlgorithm</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDigestAlgorithm&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;algorithm)</pre>
<div class="block"><p>
 Set the message digest algorithm to use - one of "MD5", "SHA1", "SHA-256", "SHA-384", "SHA-512" or "RIPEMD160"
 for core PDF up to 2.0, or "SHA3-256", "SHA3-384", "SHA3-512" and "SHAKE256" which are defined in the ISO32001
 <a href="OutputProfile.Extension.html" title="class in org.faceless.pdf2"><code>extension</code></a> to PDF 2.0.
 </p><p>
 The default since 2.20 is SHA256 - prior to that release it was SHA1.
 </p><p>
 Note that algorithms other than MD5 or SHA1 require Acrobat 8.0 or later, and
 may require a non-standard or more recent JCE provider (for instance, SHA-256 was only added to the
 Sun JCE in version 1.6, and SHAKE256 is not in the default JCE as of Java 17 so will require a third-party
 procider such as BouncyCastle).
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>algorithm</code> - the message-digest algorithm to use.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="FormSignature.html#setRequiredDigestAlgorithms(java.lang.String%5B%5D)"><code>FormSignature.setRequiredDigestAlgorithms(java.lang.String[])</code></a></dd>
</dl>
</li>
</ul>
<a id="setTimeStampServer(java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeStampServer</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTimeStampServer&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a>&nbsp;server)</pre>
<div class="block">Specify the URL of an RFC3161 Timestamp Server. Since 2.24.4 simply
 calls <a href="#setTimeStampServers(java.util.Collection)"><code>setTimeStampServers(java.util.Collection&lt;java.net.URL&gt;)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>server</code> - The server to contact for the TimeStamp. May be <code>null</code>
 to turn off timestamping (the default). If a username/password are required
 they may be specified in the URL, eg "http://user:password@server.com".</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.7.1</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setTimeStampServers(java.util.Collection)"><code>setTimeStampServers(java.util.Collection&lt;java.net.URL&gt;)</code></a></dd>
</dl>
</li>
</ul>
<a id="setTimeStampServers(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeStampServers</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setTimeStampServers&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a>&gt;&nbsp;servers)</pre>
<div class="block">Specify the URL of one or more RFC3161 Timestamp Server. If at least one
 server is specified, when the PDF is signed it will be contacted and the
 Signature timestamped. If the first server does not return a valid timestamp
 for any reason, the second will be tried and so on. If at least one TimeStamp
 server was specified and valid timestamp can be obtained, signing will faili
 with a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/GeneralSecurityException.html?is-external=true" title="class or interface in java.security" class="externalLink"><code>GeneralSecurityException</code></a>.
 RFC3161 Timestamps can be verified in Acrobat 7 or later, and with this
 class via the various "TimeStamp" methods.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>servers</code> - The list of one or more servers to contact for the TimeStamp.
 May be empty or <code>null</code>
 to turn off timestamping (the default). If a username/password are required
 they may be specified in the URL, eg "http://user:password@server.com".</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.24.4</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="FormSignature.html#getSignDate()"><code>FormSignature.getSignDate()</code></a>, 
<a href="PKCS7SignatureHandler.html#getTimeStampCertificates()"><code>PKCS7SignatureHandler.getTimeStampCertificates()</code></a></dd>
</dl>
</li>
</ul>
<a id="getTimeStampServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStampServer</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a>&nbsp;getTimeStampServer()</pre>
<div class="block">Return the first TimeStamp Server, as set by <a href="#setTimeStampServers(java.util.Collection)"><code>setTimeStampServers(java.util.Collection&lt;java.net.URL&gt;)</code></a>,
 or null if none are set.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.22</dd>
</dl>
</li>
</ul>
<a id="getTimeStampServers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStampServers</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net" class="externalLink">URL</a>&gt;&nbsp;getTimeStampServers()</pre>
<div class="block">Return the TimeStamp Servers, as set by <a href="#setTimeStampServers(java.util.Collection)"><code>setTimeStampServers(java.util.Collection&lt;java.net.URL&gt;)</code></a>.
 If none are set, return an empty list</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.24.2</dd>
</dl>
</li>
</ul>
<a id="getDigestAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDigestAlgorithm</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getDigestAlgorithm()</pre>
<div class="block">Return the Digest Algorithm, as set by <a href="#setDigestAlgorithm(java.lang.String)"><code>setDigestAlgorithm(java.lang.String)</code></a></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.22</dd>
</dl>
</li>
</ul>
<a id="setValidateCertificatesOnSigning(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValidateCertificatesOnSigning</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setValidateCertificatesOnSigning&#8203;(boolean&nbsp;check)</pre>
<div class="block"><p>
 Specifies whether the certificates used during signing should be verified
 with their OCSP or CRL responders, if available. The responses are included
 in the signature using the <code>adbe-RevocationInfoArchival</code>
 (1.2.840.113583.1.1.8) attribute, which will certify that the Certificates
 used to sign the PDF were valid at the time of signing. This is required
 for documents which need to meet the PAdES LTV (Long-Term Validation) specification.
 </p><p>
 Setting this value to true may result in 1 or more network requests during signing.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.15.2</dd>
</dl>
</li>
</ul>
<a id="setUseSigningCertificateAttribute(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseSigningCertificateAttribute</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUseSigningCertificateAttribute&#8203;(boolean&nbsp;use)</pre>
<div class="block">Specifies whether the PKCS#7 object should be generated with the
 <code>id-aa-signingCertificateV2</code> (1.2.840.113549.1.9.16.2)
 attribute, as defined in RFC5035.
 This is recommended for all signatures and required for PAdES signatures,
 and is on by default since 2.15.2</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.15.2</dd>
</dl>
</li>
</ul>
<a id="setCustomAppearance(org.faceless.pdf2.PDFCanvas,float,float,float,float)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCustomAppearance</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCustomAppearance&#8203;(<a href="PDFCanvas.html" title="class in org.faceless.pdf2">PDFCanvas</a>&nbsp;canvas,
                                float&nbsp;x1,
                                float&nbsp;y1,
                                float&nbsp;x2,
                                float&nbsp;y2)</pre>
<div class="block"><p>
 Set a custom appearance for this signature. This method allows you to
 add a signature, thumbprint, logo or any other form of custom image
 to your signature annotations (technically, this method sets the "n2"
 layer of the annotation). The canvas may be of any size, and will
 be scaled to fit the annotation on the page.
 </p><p>
 Care needs to be taken when setting this value. It's not recommended
 to use a canvas containing a bitmap image with an opaque background, as
 this may mask any layers behind this one. In particular, a "?" is
 typically used on a layer below this one to indicate the signature has
 not been verified. Specifying an opaque image may result in this being
 obscured.
 </p><p>
 As a optional convenience, by specifying non-zero coordinates for the
 x1,y1,x2 and y2 values, some text describing the signing certificate
 will be added to the canvas at the specified location. The format for
 this is fixed, but as it doesn't have to be included, the developer is
 free to add his or her own text if they don't like the result, simply
 by setting all four values to zero.
 </p><p>
 As an example, the default PKCS7 appearance is set with the following code
 which loads a pre-defined pattern from a resources file:
 </p>
 <pre class="brush:java">
   setCustomAppearance(new PDFCanvas("logo.Adobe", 1), 0, 35, 100, 65);
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>canvas</code> - the canvas to display as the "n2" layer of the signature appearance.</dd>
<dd><code>x1</code> - the left-most X co-ordinate to place the (optional) certificate text</dd>
<dd><code>y1</code> - the bottom-most Y co-ordinate to place the (optional) certificate text</dd>
<dd><code>x2</code> - the right-most X co-ordinate to place the (optional) certificate text</dd>
<dd><code>y2</code> - the top-most Y co-ordinate to place the (optional) certificate text</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.7.3</dd>
</dl>
</li>
</ul>
<a id="setContentSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setContentSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setContentSize&#8203;(int&nbsp;size)</pre>
<div class="block"><p>
 This method can be called to fix the space allocated for the "Contents" variable,
 which contains the encoded signature. If a value &gt; 0 is supplied then the Contents
 variable will have that much space allocated for it. If a value of &lt;= 0 is supplied
 then the <a href="SignatureHandler.html#getEstimatedContentSize(int)"><code>SignatureHandler.getEstimatedContentSize(int)</code></a> method will be called with the <i>negative</i>
 of this value (so if you call <code>setContentSize(-100)</code>, this will result in
 a call of <code>getEstimatedContentSize(100)</code>.
 </p><p>
 The intention of this is to allocate space in the Contents variable for external objects,
 such as TimeStamps from a remote server. For instance, if you were using a
 <a href="PKCS7SignatureHandler.html" title="class in org.faceless.pdf2"><code>PKCS7SignatureHandler</code></a> to digitally sign and an RFC3161 TimeStamp server was
 <a href="#setTimeStampServer(java.net.URL)"><code>specified</code></a>, you could pass in
 a value of "-1000" to this method to reserve 1000 bytes in the PKCS#7 object for the
 TimeStamp token.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - the size of the Contents string in bytes, or &lt;= 0 to determine automatically.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.7.6</dd>
</dl>
</li>
</ul>
<a id="setPAdES(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPAdES</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setPAdES&#8203;(boolean&nbsp;pades)</pre>
<div class="block">Set whether the factory should use the PAdES signature idenfifier, as
 specified in PDF 2.0 and supported in Acrobat X and later.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pades</code> - if true, use the PAdES standard, otherwise create
 regular Acrobat signatures.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.15.2</dd>
</dl>
</li>
</ul>
<a id="setProvider(java.security.Provider)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setProvider</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setProvider&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/Provider.html?is-external=true" title="class or interface in java.security" class="externalLink">Provider</a>&nbsp;provider)</pre>
<div class="block">Set the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/Provider.html?is-external=true" title="class or interface in java.security" class="externalLink"><code>Provider</code></a> to be used for any signature
 operations created by this factory. If set the Provider
 will be asked first for any resource, but if it is
 unable to provide one the default provider will be used
 as a fallback. This will override the Provider of the
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/KeyStore.html?is-external=true" title="class or interface in java.security" class="externalLink"><code>KeyStore</code></a> passed in to
 <a href="FormSignature.html#sign(java.security.KeyStore,java.lang.String,char%5B%5D,org.faceless.pdf2.SignatureHandlerFactory)"><code>FormSignature.sign()</code></a>, which can also be used to set the Provider.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.18.3</dd>
</dl>
</li>
</ul>
<a id="createSigningEngine(java.security.KeyStore,java.lang.String,char[],java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createSigningEngine</h4>
<pre class="methodSignature">public&nbsp;<a href="PKCS7SignatureHandler.SigningEngine.html" title="interface in org.faceless.pdf2">PKCS7SignatureHandler.SigningEngine</a>&nbsp;createSigningEngine&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/KeyStore.html?is-external=true" title="class or interface in java.security" class="externalLink">KeyStore</a>&nbsp;keystore,
                                                               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;alias,
                                                               char[]&nbsp;password,
                                                               <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;subfilter)
                                                        throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/GeneralSecurityException.html?is-external=true" title="class or interface in java.security" class="externalLink">GeneralSecurityException</a></pre>
<div class="block">Return the actual object that will do the signing. This can be overridden if a
 custom implementation demands it, e.g. for remote signing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keystore</code> - the KeyStore supplied to the sign method</dd>
<dd><code>alias</code> - the alias supplied to the sign method</dd>
<dd><code>password</code> - the password supplied to the sign method</dd>
<dd><code>subfilter</code> - the subfilter</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/security/GeneralSecurityException.html?is-external=true" title="class or interface in java.security" class="externalLink">GeneralSecurityException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.22</dd>
</dl>
</li>
</ul>
<a id="getHandler()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getHandler</h4>
<pre class="methodSignature">public&nbsp;<a href="SignatureHandler.html" title="class in org.faceless.pdf2">SignatureHandler</a>&nbsp;getHandler()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="SignatureHandlerFactory.html#getHandler()">SignatureHandlerFactory</a></code></span></div>
<div class="block">Return a handler created by this factory</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="SignatureHandlerFactory.html#getHandler()">getHandler</a></code>&nbsp;in interface&nbsp;<code><a href="SignatureHandlerFactory.html" title="interface in org.faceless.pdf2">SignatureHandlerFactory</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AcrobatSignatureHandlerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Big Faceless PDF Library 2.27.2</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2001-2022 Big Faceless Organization</small></p>
</footer>
</body>
</html>
